<!doctype html>
<html lang="id" data-bs-theme="light">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Dashboard Karyawan (Front Office) - Hotel</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    :root{
      --tosca-50:#ecfdfb; --tosca-100:#cffaf4; --tosca-200:#a5f2e6;
      --tosca-300:#73e5d3; --tosca-400:#3fd2bd; --tosca-500:#18b7a6; --tosca-600:#119a8d; --tosca-700:#0e7b71; --tosca-800:#0d625b; --tosca-900:#0b4e49;
      --glass-bg: rgba(255,255,255,.18); --glass-stroke: rgba(255,255,255,.4); --glass-shadow: 0 6px 28px rgba(0,0,0,.18); --ring: rgba(24,183,166,.35);
    }
    body{
      background:
        radial-gradient(1200px 800px at 10% -10%, rgba(24,183,166,.22), transparent 55%),
        radial-gradient(900px 600px at 120% 30%, rgba(63,210,189,.20), transparent 55%),
        linear-gradient(180deg, #f7fffe 0%, #f9fffd 60%, #f7fffe 100%);
      min-height:100dvh;
      color:#0b4e49;
    }
    .glass{ backdrop-filter: blur(14px) saturate(120%); -webkit-backdrop-filter: blur(14px) saturate(120%); background: var(--glass-bg); border: 1px solid var(--glass-stroke); box-shadow: var(--glass-shadow); border-radius: 1rem; }
    .shadow-glass{ box-shadow: var(--glass-shadow) !important; }

    .navbar-glass{ backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); background: rgba(255,255,255,.55) !important; border-bottom: 1px solid var(--glass-stroke); }
    .navbar-brand{ color: var(--tosca-700); font-weight:700; }
    .navbar-glass .nav-link{ color:#27323a }
    .navbar-glass .nav-link:hover,.navbar-glass .nav-link:focus{ color: var(--tosca-700) }

    .offcanvas-glass{ backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px); background: rgba(255,255,255,.65); border-left: 1px solid var(--glass-stroke); }

    .btn-tosca{ --bs-btn-bg: var(--tosca-500); --bs-btn-border-color: var(--tosca-500); --bs-btn-hover-bg: var(--tosca-600); --bs-btn-hover-border-color: var(--tosca-600); --bs-btn-active-bg: var(--tosca-700); --bs-btn-active-border-color: var(--tosca-700); --bs-btn-color:#fff; --bs-btn-focus-shadow-rgb: 24,183,166; }
    .btn-outline-tosca{ --bs-btn-color: var(--tosca-700); --bs-btn-border-color: var(--tosca-500); --bs-btn-hover-bg: var(--tosca-500); --bs-btn-hover-border-color: var(--tosca-500); --bs-btn-active-bg: var(--tosca-600); --bs-btn-active-border-color: var(--tosca-600); --bs-btn-focus-shadow-rgb: 24,183,166; }

    .badge-tosca{ background: var(--tosca-500); }
    .text-tosca{ color: var(--tosca-600); }

    .table-kaca thead{ position: sticky; top: 0; z-index: 1; backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); background: rgba(255,255,255,.75); border-bottom: 1px solid var(--glass-stroke); }
    .table.table-striped>tbody>tr:nth-of-type(odd){ --bs-table-accent-bg: rgba(24,183,166,.05); }
    .table.table-hover tbody tr:hover{ background: rgba(24,183,166,.09); }

    .form-control:focus, .form-select:focus{ border-color: var(--tosca-500) !important; box-shadow: 0 0 0 .25rem rgba(24,183,166,.25) !important; }
    .form-check-input{ accent-color: var(--tosca-600); }

    .card .card-header{ background: linear-gradient(180deg, rgba(24,183,166,.08), rgba(24,183,166,0) 80%); border-bottom: 1px solid rgba(24,183,166,.12); }

    @media (prefers-reduced-motion:no-preference){ .btn, .card, .navbar, .offcanvas, .list-group-item{ transition: all .25s ease; } .btn:hover{ transform: translateY(-1px);} }
  </style>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-glass sticky-top">
  <div class="container-fluid">
    <a class="navbar-brand fw-bold" href="#">Front Office</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#navFO">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="offcanvas offcanvas-end offcanvas-glass" id="navFO">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title">Menu</h5>
        <button class="btn-close" data-bs-dismiss="offcanvas"></button>
      </div>
      <div class="offcanvas-body">
        <ul class="navbar-nav ms-auto gap-2">
          <li class="nav-item"><a class="nav-link" href="/fo">Dashboard</a></li>
          <li class="nav-item"><a class="nav-link" href="/fo/checkin">Check-in</a></li>
          <li class="nav-item"><a class="nav-link" href="/fo/checkout">Check-out</a></li>
          <li class="nav-item"><a class="nav-link" href="/fo/pesanan-layanan">Pesanan Layanan</a></li>
          <li class="nav-item"><a class="nav-link" href="/logout">Keluar</a></li>
        </ul>
      </div>
    </div>
  </div>
</nav>

<main class="container-fluid p-3 p-md-4">
  <!-- Quick actions -->
  <div class="d-flex flex-wrap gap-2 mb-3">
    <a href="/fo/reservasi/new" class="btn btn-tosca"><i class="bi bi-plus-circle"></i> Buat Reservasi</a>
    <a href="/fo/checkin" class="btn btn-outline-tosca"><i class="bi bi-box-arrow-in-right"></i> Proses Check-in</a>
    <a href="/fo/checkout" class="btn btn-outline-tosca"><i class="bi bi-box-arrow-right"></i> Proses Check-out</a>
    <a href="/fo/cari-tamu" class="btn btn-outline-tosca"><i class="bi bi-search"></i> Cari Tamu</a>
  </div>

  <div class="row g-3">
    <!-- Check-in hari ini -->
    <div class="col-12 col-lg-6">
      <div class="card glass h-100">
        <div class="card-header d-flex align-items-center gap-2">
          <span class="badge badge-tosca">Hari Ini</span>
          <strong class="text-tosca">Check-in</strong>
        </div>
        <div class="card-body p-0">
          <div class="table-responsive">
            <table class="table table-sm table-hover table-striped align-middle mb-0 table-kaca">
              <thead>
                <tr><th>Kode</th><th>Tamu</th><th>Kamar</th><th>Aksi</th></tr>
              </thead>
              <tbody>
                <tr th:each="c : ${checkinToday}">
                  <td th:text="${c.kode}">RSV-0002</td>
                  <td th:text="${c.tamuNama}">Andi Wijaya</td>
                  <td th:text="${c.nomorKamar}">101</td>
                  <td>
                    <a class="btn btn-sm btn-tosca" th:href="@{/fo/checkin/{id}(id=${c.reservasiId})}"><i class="bi bi-play-fill"></i> Check-in</a>
                  </td>
                </tr>
                <tr th:if="${#lists.isEmpty(checkinToday)}">
                  <td colspan="4" class="text-center text-muted py-3">Tidak ada jadwal check-in</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- Check-out hari ini -->
    <div class="col-12 col-lg-6">
      <div class="card glass h-100">
        <div class="card-header d-flex align-items-center gap-2">
          <span class="badge badge-tosca">Hari Ini</span>
          <strong class="text-tosca">Check-out</strong>
        </div>
        <div class="card-body p-0">
          <div class="table-responsive">
            <table class="table table-sm table-hover table-striped align-middle mb-0 table-kaca">
              <thead>
                <tr><th>Kode</th><th>Tamu</th><th>Kamar</th><th>Aksi</th></tr>
              </thead>
              <tbody>
                <tr th:each="o : ${checkoutToday}">
                  <td th:text="${o.kode}">RSV-0001</td>
                  <td th:text="${o.tamuNama}">Budi Santoso</td>
                  <td th:text="${o.nomorKamar}">102</td>
                  <td>
                    <a class="btn btn-sm btn-outline-danger" th:href="@{/fo/checkout/{id}(id=${o.reservasiId})}"><i class="bi bi-stop-fill"></i> Check-out</a>
                  </td>
                </tr>
                <tr th:if="${#lists.isEmpty(checkoutToday)}">
                  <td colspan="4" class="text-center text-muted py-3">Tidak ada jadwal check-out</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- Pesanan layanan yang diproses -->
    <div class="col-12">
      <div class="card glass">
        <div class="card-header d-flex align-items-center gap-2">
          <span class="badge badge-tosca">Aktif</span>
          <strong class="text-tosca">Pesanan Layanan (Diproses)</strong>
        </div>
        <div class="card-body p-0">
          <div class="table-responsive">
            <table class="table table-sm table-hover table-striped align-middle mb-0 table-kaca">
              <thead>
                <tr><th>ID</th><th>Kode Reservasi</th><th>Tanggal</th><th>Status</th><th>Catatan</th><th></th></tr>
              </thead>
              <tbody>
                <tr th:each="p : ${ordersInProgress}">
                  <td th:text="${p.pesananId}">3</td>
                  <td th:text="${p.kodeReservasi}">RSV-0003</td>
                  <td th:text="${#temporals.format(p.tanggal,'dd MMM yyyy HH:mm')}">21 Sep 2025 21:58</td>
                  <td><span class="badge rounded-pill text-bg-warning" th:text="${p.status}">DIPROSES</span></td>
                  <td th:text="${p.catatan}">Spa booking</td>
                  <td class="text-end">
                    <a class="btn btn-sm btn-outline-tosca" th:href="@{/fo/pesanan-layanan/{id}(id=${p.pesananId})}">Detail</a>
                    <a class="btn btn-sm btn-success" th:href="@{/fo/pesanan-layanan/{id}/selesai(id=${p.pesananId})}">Selesai</a>
                  </td>
                </tr>
                <tr th:if="${#lists.isEmpty(ordersInProgress)}">
                  <td colspan="6" class="text-center text-muted py-3">Tidak ada pesanan layanan aktif</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
