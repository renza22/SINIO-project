<!doctype html>
<html lang="id" data-bs-theme="light">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SINIO Admin â€” Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --brand-primary: #689F99;
      --brand-primary-strong: #4F7F7A;
      --brand-primary-soft: #D4EAE6;
      --brand-secondary: #1F4F4A;
      --brand-white: #ffffff;
      --brand-glass: rgba(255, 255, 255, 0.82);
      --brand-glass-soft: rgba(255, 255, 255, 0.68);
      --brand-border: rgba(104, 159, 153, 0.24);
      --brand-shadow: 0 24px 60px rgba(60, 110, 103, 0.18);
    }

    body {
      background: radial-gradient(circle at 12% 18%, rgba(176, 210, 205, 0.55), rgba(255, 255, 255, 0) 45%), radial-gradient(circle at 82% 5%, rgba(160, 214, 207, 0.4), transparent 50%), linear-gradient(160deg, #f6fbfa, #ffffff 58%);
      min-height: 100vh;
      font-family: 'Poppins', sans-serif;
      color: var(--brand-secondary);
    }

    .navbar-sinio {
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(22px);
      border-bottom: 1px solid var(--brand-border);
      box-shadow: 0 12px 30px rgba(86, 130, 124, 0.12);
    }

    .navbar-brand {
      font-weight: 600;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: var(--brand-secondary);
      display: flex;
      align-items: center;
      gap: 0.6rem;
    }

    .brand-pill {
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      padding: 0.5rem 0.9rem;
      border-radius: 999px;
      background: linear-gradient(120deg, rgba(104, 159, 153, 0.95), rgba(104, 159, 153, 0.68));
      color: var(--brand-white);
      font-weight: 700;
      letter-spacing: 0.42em;
      font-size: 0.78rem;
    }

    .brand-title {
      font-size: 0.92rem;
      color: var(--brand-primary-strong);
      font-weight: 600;
      letter-spacing: 0.28em;
    }

    .navbar-sinio .nav-link {
      color: rgba(31, 79, 74, 0.7);
      font-weight: 500;
      border-radius: 999px;
      padding: 0.45rem 1rem;
      transition: all 0.2s ease;
    }

    .navbar-sinio .nav-link:hover {
      color: var(--brand-secondary);
      background: rgba(104, 159, 153, 0.12);
    }

    .navbar-sinio .nav-link.active {
      color: var(--brand-white);
      background: linear-gradient(120deg, rgba(104, 159, 153, 0.92), rgba(104, 159, 153, 0.65));
      box-shadow: 0 14px 28px rgba(104, 159, 153, 0.24);
    }

    .btn-brand {
      background: linear-gradient(120deg, rgba(104, 159, 153, 0.94), rgba(104, 159, 153, 0.7));
      border: none;
      color: var(--brand-white);
      border-radius: 0.85rem;
      font-weight: 600;
      box-shadow: 0 18px 40px rgba(104, 159, 153, 0.26);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .btn-brand:hover {
      transform: translateY(-2px);
      box-shadow: 0 22px 52px rgba(79, 127, 122, 0.3);
      color: #fff;
    }

    .btn-outline-brand {
      border-radius: 0.85rem;
      border: 1px solid rgba(104, 159, 153, 0.5);
      color: var(--brand-secondary);
      background: rgba(255, 255, 255, 0.6);
      font-weight: 500;
    }

    .btn-outline-brand:hover {
      background: linear-gradient(120deg, rgba(104, 159, 153, 0.85), rgba(104, 159, 153, 0.6));
      color: #fff;
      border-color: transparent;
    }

    .card-glass {
      background: var(--brand-glass);
      border: 1px solid var(--brand-glass-soft);
      border-radius: 1.5rem;
      box-shadow: var(--brand-shadow);
      backdrop-filter: blur(18px);
    }

    .hero-card {
      background: linear-gradient(140deg, rgba(104, 159, 153, 0.18), rgba(255, 255, 255, 0.72));
      position: relative;
      overflow: hidden;
    }

    .hero-card::after {
      content: '';
      position: absolute;
      inset: -45% 35% 35% -30%;
      background: radial-gradient(circle at center, rgba(104, 159, 153, 0.22), transparent 68%);
      z-index: 0;
    }

    .hero-card > * {
      position: relative;
      z-index: 1;
    }

    .hero-pill {
      display: inline-flex;
      align-items: center;
      gap: 0.45rem;
      padding: 0.5rem 0.95rem;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.6);
      color: var(--brand-secondary);
      font-weight: 600;
      font-size: 0.78rem;
      letter-spacing: 0.18em;
      text-transform: uppercase;
    }

    .metric-card {
      background: rgba(255, 255, 255, 0.78);
      border: 1px solid rgba(255, 255, 255, 0.55);
      border-radius: 1.35rem;
      padding: 1.6rem;
      box-shadow: var(--brand-shadow);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .metric-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 26px 60px rgba(79, 127, 122, 0.26);
    }

    .metric-icon {
      width: 3rem;
      height: 3rem;
      border-radius: 1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(104, 159, 153, 0.18);
      color: var(--brand-secondary);
      font-size: 1.45rem;
    }

    .metric-value {
      font-size: 1.85rem;
      font-weight: 700;
      color: var(--brand-secondary);
    }

    .metric-label {
      color: rgba(31, 79, 74, 0.7);
      font-weight: 500;
    }

    .section-title {
      font-weight: 600;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      font-size: 0.85rem;
      color: rgba(31, 79, 74, 0.6);
    }

    .table-sinio thead {
      background: rgba(104, 159, 153, 0.16);
      color: var(--brand-secondary);
      text-transform: uppercase;
      font-size: 0.75rem;
      letter-spacing: 0.08em;
    }

    .table-sinio tbody tr {
      border-bottom: 1px solid rgba(104, 159, 153, 0.12);
    }

    .table-sinio tbody tr:hover {
      background: rgba(104, 159, 153, 0.08);
    }

    .badge-status {
      border-radius: 999px;
      padding: 0.35rem 0.8rem;
      font-weight: 600;
      font-size: 0.72rem;
      letter-spacing: 0.05em;
      text-transform: uppercase;
    }

    .badge-status.success {
      background: rgba(25, 135, 84, 0.14);
      color: #1f7a53;
    }

    .badge-status.warning {
      background: rgba(255, 193, 7, 0.18);
      color: #b78602;
    }

    .badge-status.danger {
      background: rgba(220, 53, 69, 0.16);
      color: #c43b47;
    }

    .badge-status.neutral {
      background: rgba(104, 159, 153, 0.18);
      color: var(--brand-secondary);
    }

    .list-group-item {
      background: transparent;
      border-color: rgba(104, 159, 153, 0.12);
    }

    .room-summary {
      border-radius: 1.2rem;
      background: rgba(255, 255, 255, 0.75);
      border: 1px solid rgba(255, 255, 255, 0.55);
      padding: 1.25rem;
      box-shadow: var(--brand-shadow);
    }

    .room-summary span.badge {
      background: rgba(104, 159, 153, 0.22);
      color: var(--brand-secondary);
    }

    .empty-state {
      padding: 2.5rem 1rem;
      color: rgba(31, 79, 74, 0.6);
    }

    @media (max-width: 992px) {
      .navbar-sinio .nav-link {
        padding: 0.65rem 0.9rem;
      }
      .card-glass {
        border-radius: 1.15rem;
      }
    }

    @media (max-width: 576px) {
      .metric-card {
        padding: 1.25rem;
      }
      .metric-value {
        font-size: 1.6rem;
      }
    }
  </style>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light navbar-sinio sticky-top">
  <div class="container-fluid px-4">
    <a class="navbar-brand" href="/dashboard/admin">
      <span class="brand-pill">SINIO</span>
      <span class="brand-title">Admin</span>
    </a>
    <button class="navbar-toggler border-0 shadow-none" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <div class="ms-auto d-flex align-items-center gap-3 mt-3 mt-lg-0">
        <div class="d-none d-lg-flex flex-column text-end">
          <span class="small text-uppercase text-muted fw-semibold">Akun Anda</span>
          <span class="small" th:text="${userEmail}">admin@sinio.com</span>
        </div>
        <div class="dropdown">
          <button class="btn btn-outline-brand dropdown-toggle px-3" type="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="bi bi-person-circle me-2"></i><span th:text="${userName}">Administrator</span>
          </button>
          <ul class="dropdown-menu dropdown-menu-end shadow-sm border-0">
            <li><h6 class="dropdown-header" th:text="${userName}">Administrator</h6></li>
            <li><span class="dropdown-item-text small text-muted" th:text="${userEmail}">admin@sinio.com</span></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="/logout"><i class="bi bi-box-arrow-right me-2"></i>Keluar</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</nav>

<main class="container py-4 py-lg-5">
  <section class="card-glass hero-card p-4 p-lg-5 mb-4">
    <div class="row align-items-center g-4">
      <div class="col-12 col-lg-10 col-xl-8">
        <div class="hero-pill mb-3">
          <i class="bi bi-stars"></i>
          <span>Portal Admin SINIO</span>
        </div>
        <h1 class="display-6 fw-semibold mb-3">
          Selamat datang, <span th:text="${userName}">Administrator</span> ðŸ‘‹
        </h1>
        <p class="lead text-muted mb-4">
          Pantau performa hotel, optimalkan okupansi kamar, dan kelola tim dalam satu tampilan yang konsisten.
        </p>
      </div>
    </div>
  </section>

  <section class="row g-3 g-lg-4 mb-4">
    <div class="col-12 col-sm-6 col-lg-3">
      <div class="metric-card h-100">
        <div class="d-flex align-items-center justify-content-between gap-3">
          <div>
            <div class="metric-label mb-1">Kamar Tersedia</div>
            <div class="metric-value" th:text="${kpi.availableRooms}">52</div>
          </div>
          <div class="metric-icon">
            <i class="bi bi-door-open"></i>
          </div>
        </div>
        <p class="small text-muted mt-3 mb-0">Siap menerima reservasi baru.</p>
      </div>
    </div>
    <div class="col-12 col-sm-6 col-lg-3">
      <div class="metric-card h-100">
        <div class="d-flex align-items-center justify-content-between gap-3">
          <div>
            <div class="metric-label mb-1">Kamar Terisi</div>
            <div class="metric-value" th:text="${kpi.occupiedRooms}">68</div>
          </div>
          <div class="metric-icon">
            <i class="bi bi-people-fill"></i>
          </div>
        </div>
        <p class="small text-muted mt-3 mb-0">Pantau okupansi harian Anda.</p>
      </div>
    </div>
    <div class="col-12 col-sm-6 col-lg-3">
      <div class="metric-card h-100">
        <div class="d-flex align-items-center justify-content-between gap-3">
          <div>
            <div class="metric-label mb-1">Pendapatan Hari Ini</div>
            <div class="metric-value" th:text="${#numbers.formatDecimal(kpi.todayRevenue,0,'POINT',2,'COMMA')}">4.080.000</div>
          </div>
          <div class="metric-icon">
            <i class="bi bi-cash-stack"></i>
          </div>
        </div>
        <p class="small text-muted mt-3 mb-0">Transaksi sukses & tagihan lunas.</p>
      </div>
    </div>
    <div class="col-12 col-sm-6 col-lg-3">
      <div class="metric-card h-100">
        <div class="d-flex align-items-center justify-content-between gap-3">
          <div>
            <div class="metric-label mb-1">Invoice Pending</div>
            <div class="metric-value" th:text="${kpi.pendingInvoices}">3</div>
          </div>
          <div class="metric-icon">
            <i class="bi bi-clock-history"></i>
          </div>
        </div>
        <p class="small text-muted mt-3 mb-0">Segera follow-up untuk percepat pembayaran.</p>
      </div>
    </div>
  </section>

  <section class="card-glass p-4 p-lg-5 mb-4">
    <div class="d-flex flex-column flex-lg-row align-items-lg-center justify-content-between gap-3 mb-3">
      <div>
        <p class="section-title mb-1">Aksi Cepat</p>
        <h2 class="h4 fw-semibold mb-0">Kelola operasional hotel dengan ringkas</h2>
      </div>
      <div class="text-muted small">
        Gunakan tombol berikut untuk akses cepat fitur penting.
      </div>
    </div>
    <div class="d-flex flex-wrap gap-2">
      <a href="/admin/reservasi/new" class="btn btn-brand d-flex align-items-center gap-2">
        <i class="bi bi-plus-circle"></i><span>Reservasi Baru</span>
      </a>
      <a href="/admin/kamar" class="btn btn-outline-brand d-flex align-items-center gap-2">
        <i class="bi bi-door-closed"></i><span>Kelola Kamar</span>
      </a>
      <a href="/admin/layanan" class="btn btn-outline-brand d-flex align-items-center gap-2">
        <i class="bi bi-basket"></i><span>Kelola Layanan</span>
      </a>
      <a href="/admin/karyawan" class="btn btn-outline-brand d-flex align-items-center gap-2">
        <i class="bi bi-person-badge"></i><span>Kelola Karyawan</span>
      </a>
    </div>
  </section>

  <section class="row g-4 mb-4" id="reservasi-terbaru">
    <div class="col-12 col-lg-7">
      <div class="card-glass h-100">
        <div class="card-header border-0 bg-transparent px-4 pt-4">
          <p class="section-title mb-1">Reservasi Terbaru</p>
          <h2 class="h5 fw-semibold mb-0">Pantau kedatangan & keberangkatan tamu</h2>
        </div>
        <div class="card-body px-0">
          <div class="table-responsive">
            <table class="table table-sinio align-middle mb-0">
              <thead>
              <tr>
                <th>Kode</th>
                <th>Tamu</th>
                <th>Check-in</th>
                <th>Check-out</th>
                <th>Status</th>
                <th class="text-end">Aksi</th>
              </tr>
              </thead>
              <tbody>
              <tr th:each="r : ${recentReservations}">
                <td class="fw-semibold" th:text="${r.kode}">RSV-0004</td>
                <td>
                  <div th:text="${r.tamuNama}">Budi Santoso</div>
                  <div class="small text-muted" th:text="${r.tipeKamar}">Deluxe</div>
                </td>
                <td class="text-muted" th:text="${#temporals.format(r.checkinRencana,'dd MMM')}">21 Sep</td>
                <td class="text-muted" th:text="${#temporals.format(r.checkoutRencana,'dd MMM')}">24 Sep</td>
                <td>
                  <span class="badge-status"
                        th:classappend="${r.badge != null} ? ' ' + r.badge : ' neutral'"
                        th:text="${r.status}">TERKONFIRMASI</span>
                </td>
                <td class="text-end">
                  <a class="btn btn-sm btn-outline-brand" th:href="@{/admin/reservasi/{id}(id=${r.reservasiId})}">
                    Detail
                  </a>
                </td>
              </tr>
              <tr th:if="${#lists.isEmpty(recentReservations)}">
                <td colspan="6" class="text-center empty-state">Belum ada data reservasi terbaru.</td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <div class="col-12 col-lg-5">
      <div class="card-glass h-100">
        <div class="card-header border-0 bg-transparent px-4 pt-4">
          <p class="section-title mb-1">Pembayaran Terakhir</p>
          <h2 class="h5 fw-semibold mb-0">Catatan transaksi terbaru tamu</h2>
        </div>
        <div class="card-body px-0">
          <div class="list-group list-group-flush">
            <a class="list-group-item list-group-item-action px-4 py-3 d-flex justify-content-between align-items-start gap-3"
               th:each="p : ${recentPayments}">
              <div>
                <div class="fw-semibold" th:text="${p.kodeInvoice}">INV-0004</div>
                <small class="text-muted d-block" th:text="${p.metodeNama + ' â€¢ ' + #temporals.format(p.tanggal,'dd MMM HH:mm')}">E-WALLET â€¢ 21 Sep 21:58</small>
              </div>
              <div class="text-end">
                <div class="fw-semibold" th:text="${#numbers.formatDecimal(p.jumlah,0,'POINT',2,'COMMA')}">4.080.000</div>
                <span class="badge-status mt-2 d-inline-block"
                      th:classappend="${p.status=='BERHASIL'?' success':(p.status=='PENDING'?' warning':' danger')}"
                      th:text="${p.status}">PENDING</span>
              </div>
            </a>
            <div class="list-group-item text-center empty-state" th:if="${#lists.isEmpty(recentPayments)}">
              Belum ada pembayaran tercatat.
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="card-glass p-4 p-lg-5">
    <div class="d-flex flex-column flex-lg-row align-items-lg-center justify-content-between gap-3 mb-3">
      <div>
        <p class="section-title mb-1">Status Kamar per Tipe</p>
        <h2 class="h5 fw-semibold mb-0">Monitor ketersediaan setiap kategori kamar</h2>
      </div>
      <div class="text-muted small">
        Gunakan insight ini untuk optimalkan promosi & penjualan.
      </div>
    </div>
    <div class="row g-3" th:with="types=${roomByType}">
      <div class="col-12 col-sm-6 col-lg-3" th:each="t : ${types}">
        <div class="room-summary h-100">
          <div class="d-flex justify-content-between align-items-center">
            <span class="fw-semibold" th:text="${t.namaTipe}">Deluxe</span>
            <span class="badge rounded-pill" th:text="${t.total}">12</span>
          </div>
          <div class="mt-3 small">
            <div class="d-flex justify-content-between">
              <span>Terisi</span>
              <span class="fw-semibold" th:text="${t.terisi}">6</span>
            </div>
            <div class="d-flex justify-content-between">
              <span>Tersedia</span>
              <span class="fw-semibold" th:text="${t.tersedia}">5</span>
            </div>
            <div class="d-flex justify-content-between">
              <span>Perawatan</span>
              <span class="fw-semibold" th:text="${t.perawatan}">1</span>
            </div>
          </div>
        </div>
      </div>
      <div class="col-12">
        <div class="empty-state text-center border rounded-4" th:if="${#lists.isEmpty(roomByType)}">
          Tidak ada data tipe kamar untuk ditampilkan.
        </div>
      </div>
    </div>
  </section>
</main>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
